<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50 p-4">
  <div id="deleteModalContent" class="bg-white rounded-2xl shadow-2xl w-full max-w-md transform transition-all duration-200 opacity-0 scale-95">
    
    <!-- Icon & Header -->
    <div class="p-6 text-center">
      <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4">
        <svg class="h-8 w-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
        </svg>
      </div>
      
      <h3 class="text-xl font-bold text-gray-900 mb-2">Delete Product?</h3>
      <p class="text-gray-600 text-sm mb-1" id="deleteProductName">Are you sure you want to delete this product?</p>
      <p class="text-gray-500 text-xs">This action cannot be undone.</p>
    </div>

    <!-- Action Buttons -->
    <div class="bg-gray-50 px-6 py-4 rounded-b-2xl flex flex-col-reverse sm:flex-row gap-3">
      <button 
        type="button" 
        onclick="hideDeleteModal()" 
        class="flex-1 px-4 py-2.5 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 hover:border-gray-400 transition-all">
        Cancel
      </button>
      <button 
        type="button" 
        id="confirmDeleteBtn"
        class="flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all shadow-md hover:shadow-lg">
        Delete Product
      </button>
    </div>
  </div>
</div>

<script>
  let deleteProductUrl = '';
  let deleteProductName = '';

  function showDeleteModal(productId, productName) {
    deleteProductUrl = `/products/delete/${productId}/`;
    deleteProductName = productName;
    
    const modal = document.getElementById('deleteModal');
    const modalContent = document.getElementById('deleteModalContent');
    const productNameElement = document.getElementById('deleteProductName');
    
    if (productName) {
      productNameElement.innerHTML = `Are you sure you want to delete <strong>"${productName}"</strong>?`;
    }
    
    modal.classList.remove('hidden');
    setTimeout(() => {
      modalContent.classList.remove('opacity-0', 'scale-95');
      modalContent.classList.add('opacity-100', 'scale-100');
    }, 10);
  }

  function hideDeleteModal() {
    const modal = document.getElementById('deleteModal');
    const modalContent = document.getElementById('deleteModalContent');
    
    modalContent.classList.remove('opacity-100', 'scale-100');
    modalContent.classList.add('opacity-0', 'scale-95');
    
    setTimeout(() => {
      modal.classList.add('hidden');
      deleteProductUrl = '';
      deleteProductName = '';
    }, 200);
  }

  document.getElementById('confirmDeleteBtn').addEventListener('click', function() {
    if (deleteProductUrl) {
      window.location.href = deleteProductUrl;
    }
  });

  document.getElementById('deleteModal').addEventListener('click', function(e) {
    if (e.target === this) {
      hideDeleteModal();
    }
  });

  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      hideDeleteModal();
    }
  });
</script>